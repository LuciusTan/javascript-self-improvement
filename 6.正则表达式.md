## 正则表达式

> 正则表达式都是操作字符串的

### 创建正则表达式的两种方式

1. 字面量或者直接量
```
/js/
```

2. 构造函数
```
new RegExp()
// 转译字符需要双重转译
```

### 匹配字符串

```
var str = "I love js";
var parttern = /js/;

//test/exec
console.log(parttern.test(str)); // true
console.log(parttern.exec(str)); // ["js"]
```

### 修饰符

1. i ignoneCase
2. g global
3. m multiline

```
var parttern = /js/i;
var parttern = /js/ig;
var parttern = /js/gi;

var parttern = new RegExp("js");
var parttern = new RegExp("js","ig");

var userInput = 'js'
var parttern = new RegExp(userInput,"i");
```


[案例-正则表达式](demoPage/regexp1.html)

---

### 简单的转义字符

```
// \
var str = '//我是注释',
var parttern = /\/\//;
var str = '\\\\',  // \\

\n 换行

\t 制表符 tab  

中文Unicode编码范围：\u4e00 - \u9fa5
```

#### 字符类

```
var str = 'javascript';
var parttern = /[js]/; //j或s有一个满足就过
parttern.exec(str);    // j

var parttern = /[^js]/; //除了js以外的字符
parttern.exec(str);     // a


var parttern = /[a-zA-Z]/; //a-z或A-Z的英文字母, c-d c-c可以, c-b不行

var parttern = /[\u4e00-\u9fa5]/; //汉字

var str = '00544';
var parttern = /[0-9]/; //数字0-9
parttern.exec(str); // 0

var str = 'javascript2.0';
var parttern = /[a-zA-Z0-9]/;
parttern.exec(str); //j
```

#### 别名或简写
```
/./ 除了换行\n以外都能匹配
[a-zA-Z0-9_] 可写为 \w
[^a-zA-Z0-9_]  可写为 \W
[0-9] 可写为 \d
空格和制表符 \s
除了空格和制表符之外的字符 \S
```

#### 重复
```
var str = '110';
var parttern = /\d{3}/; // {重复3次}
parttern.exec(str); //110

var str = '110';
var parttern = /\d{1,2}/; // {>=1, <=2个} 1,2之间不能有空格
parttern.exec(str); //11

var str = '110';
var parttern = /\d{1,}/; // {匹配至少一个} ‘,’ 不能去掉, ,2的写法是错的
parttern.exec(str); //110

var str = '110';
var parttern = /\d?/; // ? ==> {0,1} ==> {0个或1个}
parttern.exec(str); //1

var str = '110';
var parttern = /\d+/; // + ==> {1,} ==> {至少匹配一次}
parttern.exec(str); //110

var str = '110';
var parttern = /\d*/; // * ==> {0,} ==> {0次或更多}
parttern.exec(str); //110


var str = "肯德基豪华午餐：¥15.5！";
var parttern = /\d+\.?\d*/;  // 15.5
var parttern = /\d{1,}\.{0,1}\d{0,}/; //15.5
```

#### 非贪婪的重复
```
var str = 'aaab';
var parttern = /a+/; //一次到无数次尽量多的匹配
parttern.exec(str); //aaa

var str = 'aaab';
var parttern = /a+?/; //加上?转化成非贪婪匹配，尽可能少的只匹配一个
parttern.exec(str); //a

var str = 'aaab';
var parttern = /a+b/;
parttern.exec(str); //aaab
var str = 'aaab';
var parttern = /a+?b/; //寻找字符串中第一个可能匹配的位置
parttern.exec(str); //aaab

var str = '<td><p>a</p></td><td><p>b</p></td>';
var parttern = /<td>.*<\/td>/;
parttern.exec(str); //<td><p>a</p></td><td><p>b</p></td> - 贪婪
var parttern2 = /<td>.*?<\/td>/;
parttern2.exec(str); //<td><p>a</p></td>- 非贪婪
```

#### 选择、分组及引用

```
//选择
var str = 'html css';
var parttern = /html|css|js/ 
parttern.exec(str); //html

var str = 'ab';
var parttern = /a|ab/ 
parttern.exec(str); //a

//分组
var str = 'abab';
var parttern = /ab+/; +号只对b有影响
var parttern2 = /(ab)+/; 
parttern.exec(str); //ab
parttern2.exec(str); //abab

var str = 'abcd';
var parttern = /(ab)c/; 
parttern.exec(str); // ['abc','ab']

var str = 'abcd';
var parttern = /(?:ab)c/; 
parttern.exec(str); // ['abc']

var str = 'abcd';
var parttern = /(ab)(c)/; 
parttern.exec(str); // ['abc','ab','c']

var str = 'abcd';
var parttern = /(a(b(c)))/; 
parttern.exec(str); // ['abc','abc','bc','c']

var str = 'ab cd ab';
var parttern = /(ab) cd \1/; 
parttern.exec(str); // ['ab cd ab','ab']

var str = '<p><a>这是一段文字</a></p>';
var parttern = /<([a-zA-Z]+)>(.*?)<\/\1>/;
parttern.exec(str); // ['<p><a>这是一段文字</a></p>','p','<a>这是一段文字</a>'] ----- index 0 ------ input '<p><a>这是一段文字</a></p>'
```


#### 匹配指定位置

```
var str = 'js';
var parttern = /^js/; //首匹配
var parttern = /js$/; //末尾匹配
parttern.exec(str); // js

var str = 'js';
var parttern = /\bjs\b/; //单词边界
parttern.exec(str); // js

var str = 'javascript';
var str2 = 'java123';
var parttern = /java(?=script)/; //前瞻性匹配
parttern.exec(str); // java
parttern.exec(str2); // null

var str = 'javascript';
var str2 = 'java123';
var parttern = /java(?!script)/; //负前瞻性匹配
parttern.exec(str); // null
parttern.exec(str2); // java
```

#### RegExp的实例方法

```
var str = 'js js js';
var parttern = /js/g; // 加上g全局之后
parttern.exec(str); // js 第一个
parttern.exec(str); // js 第二个
parttern.exec(str); // js 第三个
parttern.exec(str); // null 重置
parttern.exec(str); // js 第一个


toString, toLocaleString, valueOf
```

#### RegExp的实例属性

```
var str = 'js js js';
var parttern = /js/ig;
parttern.ignoreCase //true
parttern.global     //true
parttern.multiline  //false
parttern.source     //js

var str = 'js js js';
var parttern = /js/g;
console.log(pattern.lastIndex); //0
pattern.test(str);
console.log(pattern.lastIndex); //2
pattern.test(str);
console.log(pattern.lastIndex);  //5
pattern.test(str);
console.log(pattern.lastIndex);  //0
pattern.test(str);            
console.log(pattern.lastIndex);  //5
pattern.test(str);
```

#### String对象中与正则相关的方法之search,match和split

